

 

    <script>
        // Function to display data in the table from the API
        async function fetchingData() {
            // API URL to fetch data
            const apiUrl = "https://data.gov.bh/api/explore/v2.1/catalog/datasets/01-statistics-of-students-nationalities_updated/records?where=colleges%20like%20%22IT%22%20AND%20the_programs%20like%20%22bachelor%22&limit=100";

            try {
                // Fetch data from the API using fetch API and wait for the response
                const response = await fetch(apiUrl);
                const data = await response.json();
                
                // Call a func to display the data
                displayData(data.results);
            } catch (error) {
                console.error('Error for displaying data:', error);
            }
        }

        // Function to display data in the table
        function displayData(records) {
            const tableBody = document.querySelector('#studentTable tbody');
            
            records.forEach(record => {
                //create a row for each record
                const row = document.createElement('tr');
                
                // Populate the row with data from the record object
                row.innerHTML = ` 
                    <td>${record.year}</td>
                    <td>${record.semester}</td>
                    <td>${record.the_programs}</td>
                    <td>${record.nationality}</td>
                    <td>${record.colleges}</td>
                    <td>${record.number_of_students}</td>
                `;
                
                // Append the row to the table body
                tableBody.appendChild(row);
            });
        }

        // Call the function to fetch and display data when the page loads
        window.onload = fetchingData;
    </script>

</body>
</html>

